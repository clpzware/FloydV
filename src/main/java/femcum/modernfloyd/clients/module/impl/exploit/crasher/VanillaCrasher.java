package femcum.modernfloyd.clients.module.impl.exploit.crasher;

import femcum.modernfloyd.clients.event.Listener;
import femcum.modernfloyd.clients.event.annotations.EventLink;
import femcum.modernfloyd.clients.event.impl.motion.PreMotionEvent;
import femcum.modernfloyd.clients.module.impl.exploit.Crasher;
import femcum.modernfloyd.clients.value.Mode;

public class VanillaCrasher extends Mode<Crasher> {

    private double x;
    private double y;
    private double z;

    public VanillaCrasher(String name, Crasher parent) {
        super(name, parent);
    }

    @EventLink
    public final Listener<PreMotionEvent> onPreMotionEvent = event -> {
        final double amount = 5;

        x += amount;
        y = Math.min(y + amount, 255);
        z += amount;

        event.setPosX(x);
        event.setPosY(y);
        event.setPosZ(z);
    };

    @Override
    public void onEnable() {
        x = mc.thePlayer.posX;
        y = mc.thePlayer.posY;
        z = mc.thePlayer.posZ;
    }
}